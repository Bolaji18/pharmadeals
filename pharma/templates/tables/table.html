{% load heroicons %}
{% load static %}
<div class="container overflow-x-auto overflow-y-auto">
  <table class="table-auto w-full border-collapse border border-gray-300">
    <caption class="text-lg font-bold text-center mb-4">Pharma Products</caption>
    <thead class="bg-green-500 text-white">
      <tr>
        <th class="border border-gray-300 px-4 py-2">Product Name</th>
        <th class="border border-gray-300 px-4 py-2">Price</th>
        <th class="border border-gray-300 px-4 py-2">Approval</th>
        <th class="border border-gray-300 px-4 py-2">Description</th>
        <th class="border border-gray-300 px-4 py-2">Categories</th>
        <th class="border border-gray-300 px-4 py-2">Images</th>
        <th class="border border-gray-300 px-4 py-2">Stock</th>
        <th class="border border-gray-300 px-4 py-2">Shipping Price</th>
        <th class="border border-gray-300 px-4 py-2">Views</th>
        <th class="border border-gray-300 px-4 py-2">Update</th>
        <th class="border border-gray-300 px-4 py-2">Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for name in categories %}
      <tr class="hover:bg-gray-100">
        <td class="border border-gray-300 px-4 py-2">{{ name.name.name }}</td>
        <td class="border border-gray-300 px-4 py-2">₦ {{ name.name.price }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ name.name.Approval }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ name.name.description }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ name.name.categor }}</td>
        <td class="border border-gray-300 px-4 py-2">
          <img src="{{ name.name.image.url }}" class="h-12 w-12 object-cover" alt="Product Image">
        </td>
        <td class="border border-gray-300 px-4 py-2">{{ name.name.stock }}</td>
        {% if name.shipping == 0 %}
        <td class="border border-gray-300 px-4 py-2">Free</td>
        {% else %}
        <td class="border border-gray-300 px-4 py-2">₦ {{ name.name.shipping }}</td>
        {% endif %}
        <td class="border border-gray-300 px-4 py-2">{{ name.views }}</td>
        <td class="border border-gray-300 px-4 py-2 text-center">
          <a href="#" class="text-blue-500 hover:underline">Update</a>
        </td>
        <td class="border border-gray-300 px-4 py-2 text-center">
          <a href="javascript:void(0);" onclick="document.getElementById('id01{{ name.name.id }}').style.display='block'" class="text-red-500 hover:underline">
            <span>{% heroicon_outline "trash" size=20 %}</span>
          </a>
        </td>
      </tr>

      <!-- Modal -->
      <div id="id01{{ name.name.id }}" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-lg shadow-lg p-6 w-1/3">
          <div class="flex justify-between items-center">
            <h2 class="text-xl font-bold">Confirm Deletion</h2>
            <button onclick="document.getElementById('id01{{ name.name.id }}').style.display='none'" class="text-gray-500 hover:text-gray-700">&times;</button>
          </div>
          <p class="mt-4">Are you sure you want to delete this item?</p>
          <a href="{% url 'pharma_delete' id=name.name.id %}" class="bg-red-500 text-red-500 px-4 py-2 rounded-lg hover:bg-red-600">Delete</a>
          <div class="mt-6 flex justify-end space-x-4">
            <button onclick="document.getElementById('id01{{ name.name.id }}').style.display='none'" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400">Cancel</button>
           
          </div>
        </div>
      </div>
      {% endfor %}
    </tbody>
  </table>
  <button class="bg-gray-300 text-black px-5 py-2.5 text-center rounded-full hover:bg-gray-400">
    <a href="{% url 'upload' %}" class="mr-6">Upload Product</a>
  </button>
</div>

<style>
  #product{
      background-color: #36cbf4;
  }
</style>