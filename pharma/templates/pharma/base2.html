<!DOCTYPE html>
{% load static %}
{% load heroicons %}
{% load static tailwind_tags %}


<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %} {% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {% tailwind_css %}
    <style>
       #notification-badge {
      display: inline-block;
      padding: 0.2em 0.4em;
      font-size: 0.65rem; /* small badge size */
      font-weight: 600;
      color: white;
      background-color: #3b82f6; /* blue color */
      border-radius: 9999px; /* fully rounded */
      line-height: 1;
    }
    </style>
        <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}" />
  </head>
  <body class=" bg-white font-sans text-gray-800 overflow-x-hidden">

  <div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Clients</a>
  <a href="#">Contact</a>
      {% if request.user.username %}
    <form action="{% url 'logout' %}" method="post">
  {% csrf_token %}
 <button style=" color:white;  border:none; margin-right:20px; padding:5px;   margin-top: 0rem;  padding: 0rem;   background-color: inherit;  font-weight: 0; border-radius: 0rem;  box-shadow: 0; transition:0; background-color:0, box-shadow :0; font-size:24px; text-align:center; margin-left:20%; " type="submit">logout</button>

</form>
      {% endif %}

</div>

    <!-- Top Bar -->
    <div class="h-9 w-full bg-green-500 text-xs text-gray-700 flex items-center px-4">
      <span>Welcome to Pharmadeals.ng</span>
      <div class="ml-auto flex items-center space-x-4 text-[10px] sm:text-sm">
        <span class="flex items-center gap-1">
          Track your Orders {% heroicon_outline "map-pin" size=20 %}
        </span>
        <span class="flex items-center gap-1">
          Global pharmacy {% heroicon_outline "globe-alt" size=20 %}
        </span>
      </div>
    </div>

    <!-- Header Section -->
    <header class="flex flex-wrap items-center justify-between p-4 md:px-8">
      <!-- Left Section -->
      <div class="flex items-center space-x-3">
        <span onclick="openNav()" id="nav-2">{% heroicon_outline "bars-3-bottom-left" size=24 %}</span>
       <a href="{% url 'index' %}"><img src="{% static 'images/Chat_Image_Apr_15__2025__12_24_59_PM-removebg-preview.png' %}" class="h-10 sm:h-12" alt="Pharmadeals Logo">
      </a>
      </div>

      <!-- Search Bar -->
      <div class="flex items-center bg-blue-100 border border-gray-800 rounded-full px-4 py-2 mt-4 md:mt-0 w-full md:w-[442px] max-w-full md:ml-10">
        <span class="text-gray-600">{% heroicon_outline "magnifying-glass" size=20 %}</span>
        <input type="text" placeholder="Search for Pharmaceuticals"
          class="ml-2 flex-grow bg-transparent focus:outline-none text-sm md:text-base text-black" />
        <span class="ml-2 text-gray-600">{% heroicon_outline "bars-3-center-left" size=20 %}</span>
      </div>

      <!-- Cart & Auth Buttons -->
       <a href="{% url 'see_cart' %}" class="flex items>
      <div class="flex items-center mt-4 md:mt-0 space-x-3 md:ml-auto">
        <span>{% heroicon_outline "shopping-cart" size=20 %}</span>
        <span id="notification-badge"></span>
      </a>
        

        <script>
           const url = `{% url 'get_pharma'  %}`; // Generate the URL dynamically
        fetch(url, {
             method: 'GET',
            headers: {
                'X-Requested-With': 'XMLHttpRequest' // Indicate that this is an AJAX request
            }
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.text();
        })
        .then(data => {
            document.getElementById('notification-badge').innerHTML = data;
            console.log(data); // Log the data to the console for debugging
            if (data > 0) {
                document.getElementById('notification-badge').style.display = 'inline-block'; // Show the badge if count is greater than 0
            } else {
                document.getElementById('notification-badge').style.display = 'none'; // Hide the badge if count is 0
            }

        })
        .catch(error => {
            console.error('There was a problem with the fetch operation:', error);
        });
        </script>
         {% if request.user.username %}

        <a href="{% url 'profile' %}">
          <button class="bg-green-500 text-white-800 text-sm md:text-base rounded-full border border-blue-300 w-[45px] h-[36px] md:w-[45px] md:h-[41px]">
             {% heroicon_outline "user-circle" size=40 %}
          </button>
        </a>
        {% else %}


        <a href="{% url 'login' %}">
          <button class="bg-green-500 text-gray-800 text-sm md:text-base rounded-full border border-blue-300 w-[100px] h-[36px] md:w-[126px] md:h-[41px]">
            Login
          </button>
        </a>
        <a href="{% url 'register' %}">
          <button class="bg-green-500 text-gray-800 text-sm md:text-base rounded-full border border-blue-300 w-[100px] h-[36px] md:w-[126px] md:h-[41px]">
            Sign up
          </button>
        </a>
        {% endif %}
      </div>
    </header>

<div class="mb-[50px]">


     {% block content %} {% endblock %}

</div>




  <section class="bg-black text-white mt-16 py-12  bottom-0 left-0 w-full p-4">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 px-6 md:px-16">

    <!-- Newsletter -->
    <div>
      <h2 class="text-xl font-semibold mb-2">Sign up for our Newsletter</h2>
      <p>Get to know updates in the field of medicine and know how often our stores are stocked</p>
    </div>

    <!-- Email Subscription -->
    <div>
      <h4 class="mb-2">Your Email</h4>
      <div class="flex items-center bg-blue-100 rounded-l-full overflow-hidden w-full max-w-[416px] h-12">
        <input type="email" placeholder="Example@email.com" class="bg-blue-100 text-black text-base px-4 w-full focus:outline-none" />
        <button class="bg-green-500 text-white px-4 rounded-r-full h-full">{% heroicon_outline "paper-airplane" size=20 %}</button>
      </div>
    </div>

    <!-- About Pharmabids -->
    <div>
      <h2 class="text-xl font-semibold mb-2">Pharmabids</h2>
      <p class="text-sm leading-relaxed">
        Your favourite online pharmacy store. We offer onsite delivery and your health is our priority.
      </p>
    </div>

    <!-- Footer Links -->
    <div >
      <table class="text-sm ">
        <tbody>
          <tr class="space-x-2">
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Quick Links</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Services</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Social Media</a></td>
          </tr>
          <tr>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Contact us</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Delivery</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Facebook</a></td>
          </tr>
          <tr>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">About us</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Purchase</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Twitter</a></td>
          </tr>
          <tr>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Careers</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">Consult Specialist</a></td>
            <td><a href="#" class="text-white hover:text-green-400 block py-1">LinkedIn</a></td>
          </tr>
        </tbody>
      </table>
    </div>

    <p class="text-sm leading-relaxed">
     <a href="mailto:daropaleb@gmail.com?subject=Hello&body=I wanted to reach out about...">designed by bolaji </a>
    </p>

  </div>
</section>


<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("sidenav2").style.display = "none";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
   document.getElementById("sidenav2").style.display = "fixed";
}
</script>


</body>
</html>