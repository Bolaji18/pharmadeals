{% extends 'pharma/base2.html' %}
{% load static %}
{% load widget_tweaks %}
{% load heroicons %}
{% load list_tags %}




{% block title %}
Cart  Total 
{% endblock %}


{% block content %}
<div class="grid grid-cols-4 md:grid-cols-2 gap-6 mb-24 px-6 md:px-16 py-10 items-center">
 

   

{% if cart_items%}
{% with "" as previous %}
{% for item in cart_items %}
{% if item != previous %}
<div class="justify-between grid grid-cols-2  items-center mb-2 border-b-2 border-gray-300 py-4 px-6">
  <div class=" items-center space-x-4">
    <img src="{{ item.name.image.url }}" alt="{{ item.name.name }}" class="w-10 h-[200px] rounded-lg" style="height: 200px;">
    <div>
      <h3 class="text-lg font-semibold text-blue-900">{{ item.name.name }}</h3>
      <p class="text-gray-600">Price: ₦ {{ item.name.price }}</p>
      <p class="text-gray-600">Quantity: {{ item.quantity }}</p>
    </div>
    
  </div>
  <div class="flex justify-end mt-4 px-6">
    <form method="post" action="{% url 'remove_from_cart' item.id %}">
      {% csrf_token %}
      <input type="hidden" name="item_id" value="{{ item.name.id }}">
      <button type="submit" class="text-red-500 hover:text-red-700 focus:outline-none">
        <span>{% heroicon_outline "trash" size=20 %}</span> 
      </button>
    </form>
</div>
</div>

  {% endif %}
  {% with item as previous %}
  {% endwith %}
  {% endfor %}
  {% endwith %}
    <!-- <div class="text-right"> -->
    
</div>
</div>
{% else %}
        <p class="text-lg font-semibold text-blue-900">No item found</p>
{% endif %}
   
<br>

<div class="flex justify-end mt-4 px-6">
  <h2 class="text-2xl font-semibold text-blue-900">Grand Total: ₦ {{ total_price }}</h2>
</div>

{% endblock %}